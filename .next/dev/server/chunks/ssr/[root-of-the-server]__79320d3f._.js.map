{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/components/StartPage.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Shield, Clock, Image } from \"lucide-react\";\n\ninterface StartPageProps {\n  onStart: (consented: boolean) => void;\n}\n\nexport function StartPage({ onStart }: StartPageProps) {\n  const [agreed, setAgreed] = useState(true);\n\n  const handleNext = () => {\n    if (!agreed) {\n      onStart(false);\n    } else {\n      onStart(true);\n    }\n  };\n\n  // const handleDialogResponse = (consent: boolean) => {\n  //   setShowDialog(false);\n  //   onStart(consent);\n  // };\n\n  return (\n    <div className=\"min-h-screen bg-[#F7E6C4]/30 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 md:p-12 max-w-3xl w-full\">\n        {/* Main Title */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl md:text-5xl mb-4 text-gray-900\">\n            AI-generated Images and Real Images Recognition\n          </h1>\n        </div>\n\n        {/* Description */}\n        <div className=\"mb-8 space-y-4\">\n          <p className=\"text-lg text-gray-700 leading-relaxed\">\n            You will take a short but fun quiz where you will identify whether{\" \"}\n            <strong>20 images</strong> are AI-generated or real.{\" \"}\n            <strong>\n              You may receive the correct answer immediately after each image,\n              or receive no feedback until the end.\n            </strong>{\" \"}\n            After the quiz, you will see a summary of how well you did\n            throughout the test!\n          </p>\n\n          {/* Feature highlights */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 my-6\">\n            <div className=\"bg-[#9E3B3B]/30 rounded-lg p-4 text-center\">\n              <Image className=\"w-8 h-8 text-[#9E3B3B] mx-auto mb-2\" />\n              <p className=\"text-sm text-gray-700\">\n                <strong>20 Images</strong>\n              </p>\n              <p className=\"text-xs text-gray-600\">Quick test</p>\n            </div>\n            <div className=\"bg-[#F1C376]/30 rounded-lg p-4 text-center\">\n              <Clock className=\"w-8 h-8 text-[#F1C376] mx-auto mb-2\" />\n              <p className=\"text-sm text-gray-700\">\n                <strong>2 Feedback Modes</strong>\n              </p>\n              <p className=\"text-xs text-gray-600\">With or without</p>\n            </div>\n            <div className=\"bg-[#606C5D]/30 rounded-lg p-4 text-center\">\n              <Shield className=\"w-8 h-8 text-[#606C5D] mx-auto mb-2\" />\n              <p className=\"text-sm text-gray-700\">\n                <strong>Anonymous</strong>\n              </p>\n              <p className=\"text-xs text-gray-600\">Data Collection</p>\n            </div>\n          </div>\n\n          {/* Privacy Notice */}\n          <div className=\"bg-[#F7E6C4]/30 border-l-4 border-[#F1C376] rounded-r-lg p-4\">\n            <p className=\"text-sm text-gray-700 leading-relaxed\">\n              Your responses will be used for winter 2026 semester MIE286 course\n              project <strong>only if you consent</strong>. Your data will never\n              be associated with personal information, shared, or used for any\n              purpose other than for this MIE286 project data analysis.{\" \"}\n              <strong>\n                Even if you do not agree to data collection, you can still take\n                this fun quiz!\n              </strong>{\" \"}\n              However, whether you choose to have your data collected or not,{\" \"}\n              <strong>please don't take another quiz attempt</strong> to ensure\n              data integrity and accuracy.\n            </p>\n          </div>\n        </div>\n\n        {/* Consent Checkbox */}\n        <div className=\"mb-6\">\n          <label className=\"flex items-start gap-3 cursor-pointer group\">\n            <input\n              type=\"checkbox\"\n              checked={agreed}\n              onChange={(e) => setAgreed(e.target.checked)}\n              className=\"mt-1 w-5 h-5 text-[#76453B] border-gray-300 rounded focus:ring-2 focus:ring-[#76453B] cursor-pointer\"\n            />\n            <span className=\"text-[#9E3B3B] group-hover:text-[#9E3B3B]/30 select-none\">\n              I agree to have my data collected anonymously for{\" \"}\n              <strong>MIE286 course project</strong>.\n            </span>\n          </label>\n        </div>\n\n        {/* Next Button */}\n        <button\n          onClick={handleNext}\n          className=\"w-full bg-[#606C5D] hover:bg-[#606C5D]/50 text-white py-4 px-6 rounded-lg transition-colors text-lg font-medium shadow-lg hover:shadow-xl\"\n        >\n          Next\n        </button>\n\n        {/* Confirmation Dialog\n        {showDialog && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full\">\n              <h3 className=\"text-xl mb-4 text-gray-900\">\n                Data Collection Consent\n              </h3>\n              <p className=\"text-gray-700 mb-6\">\n                You have not agreed to data collection. Would you like to agree\n                to have your data collected for research purposes? Your data\n                will remain completely anonymous.\n              </p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <button\n                  onClick={() => handleDialogResponse(true)}\n                  className=\"bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-4 rounded-lg transition-colors\"\n                >\n                  Yes, I agree\n                </button>\n                <button\n                  onClick={() => handleDialogResponse(false)}\n                  className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 px-4 rounded-lg transition-colors\"\n                >\n                  No, continue without\n                </button>\n              </div>\n            </div>\n          </div>\n        )} */}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AASO,SAAS,UAAU,EAAE,OAAO,EAAkB;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uPAAQ,EAAC;IAErC,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ;YACX,QAAQ;QACV,OAAO;YACL,QAAQ;QACV;IACF;IAEA,uDAAuD;IACvD,0BAA0B;IAC1B,sBAAsB;IACtB,KAAK;IAEL,qBACE,oRAAC;QAAI,WAAU;kBACb,cAAA,oRAAC;YAAI,WAAU;;8BAEb,oRAAC;oBAAI,WAAU;8BACb,cAAA,oRAAC;wBAAG,WAAU;kCAA0C;;;;;;;;;;;8BAM1D,oRAAC;oBAAI,WAAU;;sCACb,oRAAC;4BAAE,WAAU;;gCAAwC;gCACgB;8CACnE,oRAAC;8CAAO;;;;;;gCAAkB;gCAA2B;8CACrD,oRAAC;8CAAO;;;;;;gCAGE;gCAAI;;;;;;;sCAMhB,oRAAC;4BAAI,WAAU;;8CACb,oRAAC;oCAAI,WAAU;;sDACb,oRAAC,mPAAK;4CAAC,WAAU;;;;;;sDACjB,oRAAC;4CAAE,WAAU;sDACX,cAAA,oRAAC;0DAAO;;;;;;;;;;;sDAEV,oRAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;8CAEvC,oRAAC;oCAAI,WAAU;;sDACb,oRAAC,mPAAK;4CAAC,WAAU;;;;;;sDACjB,oRAAC;4CAAE,WAAU;sDACX,cAAA,oRAAC;0DAAO;;;;;;;;;;;sDAEV,oRAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;8CAEvC,oRAAC;oCAAI,WAAU;;sDACb,oRAAC,sPAAM;4CAAC,WAAU;;;;;;sDAClB,oRAAC;4CAAE,WAAU;sDACX,cAAA,oRAAC;0DAAO;;;;;;;;;;;sDAEV,oRAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;;;;;;;sCAKzC,oRAAC;4BAAI,WAAU;sCACb,cAAA,oRAAC;gCAAE,WAAU;;oCAAwC;kDAE3C,oRAAC;kDAAO;;;;;;oCAA4B;oCAEc;kDAC1D,oRAAC;kDAAO;;;;;;oCAGE;oCAAI;oCACkD;kDAChE,oRAAC;kDAAO;;;;;;oCAA+C;;;;;;;;;;;;;;;;;;8BAO7D,oRAAC;oBAAI,WAAU;8BACb,cAAA,oRAAC;wBAAM,WAAU;;0CACf,oRAAC;gCACC,MAAK;gCACL,SAAS;gCACT,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,OAAO;gCAC3C,WAAU;;;;;;0CAEZ,oRAAC;gCAAK,WAAU;;oCAA2D;oCACvB;kDAClD,oRAAC;kDAAO;;;;;;oCAA8B;;;;;;;;;;;;;;;;;;8BAM5C,oRAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAoCT"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/components/InstructionPage.tsx"],"sourcesContent":["\"use client\";\nimport { Camera, Sparkles, ArrowRight } from \"lucide-react\";\n\ninterface InstructionPageProps {\n  onBegin: () => void;\n}\n\nexport function InstructionPage({ onBegin }: InstructionPageProps) {\n  return (\n    <div className=\"min-h-screen bg-[#F7E6C4]/30 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 md:p-12 max-w-3xl w-full\">\n        {/* Header */}\n        <div className=\"flex items-center gap-3 mb-6\">\n          <h1 className=\"text-3xl text-gray-900\">\n            Assumptions & Clarification\n          </h1>\n        </div>\n\n        {/* Important Notes - Merged */}\n        <div className=\"space-y-6 mb-8\">\n          <div className=\"bg-[#9E3B3B]/10 rounded-lg p-6\">\n            <div className=\"space-y-4\">\n              {/* Real Photo */}\n              <div className=\"flex items-start gap-3\">\n                <Camera className=\"w-6 h-6 text-[#9E3B3B] flex-shrink-0 mt-1\" />\n                <div>\n                  <h3 className=\"text-base text-gray-900 mb-2\">\n                    <strong>1. What we count as a \"Real Photo\"?</strong>\n                  </h3>\n                  <p className=\"text-sm text-gray-700 leading-relaxed\">\n                    Real photos refer to photos taken by cameras.\n                    Post-processing such as color correction and tonal\n                    adjustments <strong>MAY</strong> be applied. However, to\n                    reduce the difficulty, there are <strong>NO</strong> photos\n                    that have undergone post-processing with image synthesis\n                    technology.\n                  </p>\n                </div>\n              </div>\n\n              {/* Divider */}\n              <div className=\"border-t border-indigo-200\"></div>\n\n              {/* AI-Generated */}\n              <div className=\"flex items-start gap-3\">\n                <Sparkles className=\"w-6 h-6 text-[#9E3B3B] flex-shrink-0 mt-1\" />\n                <div>\n                  <h3 className=\"text-base text-gray-900 mb-2\">\n                    <strong>2. What we count as \"AI-Generated Images?\"</strong>\n                  </h3>\n                  <p className=\"text-sm text-gray-700 leading-relaxed\">\n                    AI-generated images refer to the pictures that were entirely\n                    generated by AI. To reduce the difficulty, there are{\" \"}\n                    <strong>NO</strong> photos that have undergone AI face\n                    swapping, AI blur removal, or AI addition or deletion of\n                    objects.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Call to Action */}\n          <div className=\"bg-[#606C5D]/30 border-l-4 border-[#606C5D] rounded-r-lg p-6\">\n            <p className=\"text-base text-gray-900 leading-relaxed\">\n              Now, try to identify the images in front of you as{\" \"}\n              <strong>quickly</strong> and <strong>accurately</strong> as\n              possible!\n            </p>\n          </div>\n        </div>\n\n        {/* Begin Button */}\n        <button\n          onClick={onBegin}\n          className=\"w-full bg-[#606C5D] hover:bg-[#606C5D]/50 text-white py-4 px-6 rounded-lg transition-all text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2\"\n        >\n          Begin the Quiz!\n          <ArrowRight className=\"w-5 h-5\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AADA;;;AAOO,SAAS,gBAAgB,EAAE,OAAO,EAAwB;IAC/D,qBACE,oRAAC;QAAI,WAAU;kBACb,cAAA,oRAAC;YAAI,WAAU;;8BAEb,oRAAC;oBAAI,WAAU;8BACb,cAAA,oRAAC;wBAAG,WAAU;kCAAyB;;;;;;;;;;;8BAMzC,oRAAC;oBAAI,WAAU;;sCACb,oRAAC;4BAAI,WAAU;sCACb,cAAA,oRAAC;gCAAI,WAAU;;kDAEb,oRAAC;wCAAI,WAAU;;0DACb,oRAAC,sPAAM;gDAAC,WAAU;;;;;;0DAClB,oRAAC;;kEACC,oRAAC;wDAAG,WAAU;kEACZ,cAAA,oRAAC;sEAAO;;;;;;;;;;;kEAEV,oRAAC;wDAAE,WAAU;;4DAAwC;0EAGvC,oRAAC;0EAAO;;;;;;4DAAY;0EACC,oRAAC;0EAAO;;;;;;4DAAW;;;;;;;;;;;;;;;;;;;kDAQ1D,oRAAC;wCAAI,WAAU;;;;;;kDAGf,oRAAC;wCAAI,WAAU;;0DACb,oRAAC,4PAAQ;gDAAC,WAAU;;;;;;0DACpB,oRAAC;;kEACC,oRAAC;wDAAG,WAAU;kEACZ,cAAA,oRAAC;sEAAO;;;;;;;;;;;kEAEV,oRAAC;wDAAE,WAAU;;4DAAwC;4DAEE;0EACrD,oRAAC;0EAAO;;;;;;4DAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAU7B,oRAAC;4BAAI,WAAU;sCACb,cAAA,oRAAC;gCAAE,WAAU;;oCAA0C;oCACF;kDACnD,oRAAC;kDAAO;;;;;;oCAAgB;kDAAK,oRAAC;kDAAO;;;;;;oCAAmB;;;;;;;;;;;;;;;;;;8BAO9D,oRAAC;oBACC,SAAS;oBACT,WAAU;;wBACX;sCAEC,oRAAC,sQAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKhC"}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/lib/quizStatistics.ts"],"sourcesContent":["/**\n * Quiz Statistics & Calculation Utilities\n * Centralized functions for all quiz-related calculations to reduce code duplication\n */\n\nexport interface Answer {\n  imageId: string;\n  userAnswer: boolean;\n  correctAnswer: boolean;\n  responseTime: number; // in milliseconds\n  isCorrect: boolean;\n  mode: boolean; // true = with feedback (Mode 1), false = without feedback (Mode 2)\n}\n\nexport interface QuizStatistics {\n  totalQuestions: number;\n  correctAnswers: number;\n  accuracy: number; // percentage\n  averageResponseTime: number; // in milliseconds\n  totalTime: number; // in milliseconds\n}\n\nexport interface ModeStatistics {\n  mode1Answers: Answer[];\n  mode2Answers: Answer[];\n  mode1Accuracy: number;\n  mode2Accuracy: number;\n  mode1AvgTime: number;\n  mode2AvgTime: number;\n  mode1TotalTime: number;\n  mode2TotalTime: number;\n}\n\nexport function calculateOverallStats(answers: Answer[]): QuizStatistics {\n  const totalQuestions = answers.length;\n  const correctAnswers = answers.filter((a) => a.isCorrect).length;\n  const accuracy = (correctAnswers / totalQuestions) * 100;\n  const averageResponseTime =\n    answers.reduce((sum, a) => sum + a.responseTime, 0) / totalQuestions;\n  const totalTime = answers.reduce((sum, a) => sum + a.responseTime, 0);\n\n  return {\n    totalQuestions,\n    correctAnswers,\n    accuracy,\n    averageResponseTime,\n    totalTime,\n  };\n}\n\n\nexport function getAnswerSet(\n  answers: Answer[],\n  setNumber: 1 | 2\n): Answer[] {\n  if (setNumber === 1) {\n    return answers.slice(0, 10);\n  } else {\n    return answers.slice(10, 20);\n  }\n}\n\n/**\n * Split answers by mode and calculate statistics for each mode\n */\nexport function calculateModeStats(\n  answers: Answer[],\n  mode1First: boolean\n): ModeStatistics {\n  const firstSetAnswers = getAnswerSet(answers, 1);\n  const secondSetAnswers = getAnswerSet(answers, 2);\n\n  // Determine which set corresponds to which mode\n  const mode1Answers = mode1First ? firstSetAnswers : secondSetAnswers;\n  const mode2Answers = mode1First ? secondSetAnswers : firstSetAnswers;\n\n  const mode1Correct = mode1Answers.filter((a) => a.isCorrect).length;\n  const mode2Correct = mode2Answers.filter((a) => a.isCorrect).length;\n\n  const mode1TotalTime = mode1Answers.reduce(\n    (sum, a) => sum + a.responseTime,\n    0\n  );\n  const mode2TotalTime = mode2Answers.reduce(\n    (sum, a) => sum + a.responseTime,\n    0\n  );\n\n  const mode1AvgTime = mode1TotalTime / mode1Answers.length;\n  const mode2AvgTime = mode2TotalTime / mode2Answers.length;\n\n  return {\n    mode1Answers,\n    mode2Answers,\n    mode1Accuracy: (mode1Correct / mode1Answers.length) * 100,\n    mode2Accuracy: (mode2Correct / mode2Answers.length) * 100,\n    mode1AvgTime,\n    mode2AvgTime,\n    mode1TotalTime,\n    mode2TotalTime,\n  };\n}\n\nexport function getModeName(mode1First: boolean, setNumber: 1 | 2): string {\n  if (setNumber === 1) {\n    return mode1First ? \"With Feedback\" : \"No Feedback\";\n  } else {\n    return mode1First ? \"No Feedback\" : \"With Feedback\";\n  }\n}\n\n/**\n * Format time from milliseconds to seconds string\n */\nexport function formatTimeSeconds(milliseconds: number, decimals: number = 1): string {\n  const seconds = milliseconds / 1000;\n  return seconds.toFixed(decimals);\n}\n\n/**\n * Format time in MM:SS.mmm format (for elapsed time display with milliseconds)\n */\nexport function formatTimeMMSS(milliseconds: number): string {\n  const totalSeconds = milliseconds / 1000;\n  const mins = Math.floor(totalSeconds / 60);\n  const secs = Math.floor(totalSeconds % 60);\n  const ms = Math.floor(milliseconds % 1000);\n  return `${mins}:${String(secs).padStart(2, \"0\")}.${String(ms).padStart(3, \"0\")}`;\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AA8BM,SAAS,sBAAsB,OAAiB;IACrD,MAAM,iBAAiB,QAAQ,MAAM;IACrC,MAAM,iBAAiB,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,EAAE,MAAM;IAChE,MAAM,WAAW,AAAC,iBAAiB,iBAAkB;IACrD,MAAM,sBACJ,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAAE,KAAK;IACxD,MAAM,YAAY,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAAE;IAEnE,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF;AAGO,SAAS,aACd,OAAiB,EACjB,SAAgB;IAEhB,IAAI,cAAc,GAAG;QACnB,OAAO,QAAQ,KAAK,CAAC,GAAG;IAC1B,OAAO;QACL,OAAO,QAAQ,KAAK,CAAC,IAAI;IAC3B;AACF;AAKO,SAAS,mBACd,OAAiB,EACjB,UAAmB;IAEnB,MAAM,kBAAkB,aAAa,SAAS;IAC9C,MAAM,mBAAmB,aAAa,SAAS;IAE/C,gDAAgD;IAChD,MAAM,eAAe,aAAa,kBAAkB;IACpD,MAAM,eAAe,aAAa,mBAAmB;IAErD,MAAM,eAAe,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,EAAE,MAAM;IACnE,MAAM,eAAe,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,EAAE,MAAM;IAEnE,MAAM,iBAAiB,aAAa,MAAM,CACxC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAChC;IAEF,MAAM,iBAAiB,aAAa,MAAM,CACxC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAChC;IAGF,MAAM,eAAe,iBAAiB,aAAa,MAAM;IACzD,MAAM,eAAe,iBAAiB,aAAa,MAAM;IAEzD,OAAO;QACL;QACA;QACA,eAAe,AAAC,eAAe,aAAa,MAAM,GAAI;QACtD,eAAe,AAAC,eAAe,aAAa,MAAM,GAAI;QACtD;QACA;QACA;QACA;IACF;AACF;AAEO,SAAS,YAAY,UAAmB,EAAE,SAAgB;IAC/D,IAAI,cAAc,GAAG;QACnB,OAAO,aAAa,kBAAkB;IACxC,OAAO;QACL,OAAO,aAAa,gBAAgB;IACtC;AACF;AAKO,SAAS,kBAAkB,YAAoB,EAAE,WAAmB,CAAC;IAC1E,MAAM,UAAU,eAAe;IAC/B,OAAO,QAAQ,OAAO,CAAC;AACzB;AAKO,SAAS,eAAe,YAAoB;IACjD,MAAM,eAAe,eAAe;IACpC,MAAM,OAAO,KAAK,KAAK,CAAC,eAAe;IACvC,MAAM,OAAO,KAAK,KAAK,CAAC,eAAe;IACvC,MAAM,KAAK,KAAK,KAAK,CAAC,eAAe;IACrC,OAAO,GAAG,KAAK,CAAC,EAAE,OAAO,MAAM,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,IAAI,QAAQ,CAAC,GAAG,MAAM;AAClF"}},
    {"offset": {"line": 667, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/components/ImageEvaluationPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { CheckCircle2, XCircle, Clock, X, Timer } from \"lucide-react\";\nimport { ImageData } from \"@/lib/imageDataset\";\nimport { Answer, formatTimeMMSS } from \"@/lib/quizStatistics\";\n\ninterface ImageEvaluationPageProps {\n  images: ImageData[];\n  mode1First: boolean;\n  onComplete: (answers: Answer[]) => void;\n}\n\nexport function ImageEvaluationPage({\n  images,\n  mode1First,\n  onComplete,\n}: ImageEvaluationPageProps) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [answers, setAnswers] = useState<Answer[]>([]);\n  const [startTime, setStartTime] = useState<number>(Date.now());\n  const [inlineFeedback, setInlineFeedback] = useState<Answer | null>(null);\n  // const [enlargedImage, setEnlargedImage] = useState<string | null>(null);\n  const [elapsedTime, setElapsedTime] = useState<number>(0);\n  const [isTimerPaused, setIsTimerPaused] = useState<boolean>(false);\n\n  const currentImage = images[currentIndex];\n  const totalImages = images.length;\n\n  // Determine current mode\n  const getCurrentMode = () => {\n    if (currentIndex < 10) {\n      return mode1First ? 1 : 2;\n    } else {\n      return mode1First ? 2 : 1;\n    }\n  };\n\n  const currentMode = getCurrentMode();\n\n  const moveToNext = () => {\n    setInlineFeedback(null);\n    setStartTime(Date.now());\n    setElapsedTime(0);\n    setIsTimerPaused(false);\n\n    if (currentIndex < totalImages - 1) {\n      setCurrentIndex(currentIndex + 1);\n    } else {\n      // Study complete\n      onComplete(answers);\n    }\n  };\n\n  useEffect(() => {\n    setStartTime(Date.now());\n    setInlineFeedback(null);\n    setElapsedTime(0);\n  }, [currentIndex]);\n\n  // Timer update (updates every 10ms to show milliseconds)\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (!isTimerPaused) {\n        setElapsedTime(Date.now() - startTime);\n      }\n    }, 10);\n\n    return () => clearInterval(timer);\n  }, [startTime, isTimerPaused]);\n\n  const handleAnswer = (userAnswer: boolean) => {\n    // Pause the timer immediately when user answers\n    setIsTimerPaused(true);\n\n    const responseTime = Date.now() - startTime;\n    const isCorrect = userAnswer === currentImage.isAIGenerated;\n\n    const answer: Answer = {\n      imageId: currentImage.id,\n      userAnswer,\n      correctAnswer: currentImage.isAIGenerated,\n      responseTime,\n      isCorrect,\n      mode: currentMode === 1, // true = with feedback (Mode 1), false = without feedback (Mode 2)\n    };\n\n    const newAnswers = [...answers, answer];\n    setAnswers(newAnswers);\n\n    if (currentMode === 1) {\n      // Mode 1: Show inline feedback\n      setInlineFeedback(answer);\n    } else {\n      // Mode 2: No feedback, move to next image immediately\n      moveToNext();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#F7E6C4]/30 flex items-center justify-center p-4\">\n      <div className=\"max-w-7xl w-full\">\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-2xl text-black font-bold\">Image Evaluation</h2>\n            <div className=\"flex items-center gap-4 text-gray-600\">\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-5 h-5\" />\n                <p className=\"text-md text-black\">\n                  {currentIndex < 10 ? \"First set\" : \"Second set\"} •{\" \"}\n                  {currentMode === 1 ? \"With feedback\" : \"No feedback\"}\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2 bg-gray-100 px-3 py-1 rounded-lg\">\n                <Timer className=\"w-5 h-5\" />\n                <span className=\"text-md font-mono text-black\">\n                  {formatTimeMMSS(elapsedTime)}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4 mb-2\">\n            <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-[#F1C376] h-2 rounded-full transition-all duration-300\"\n                style={{\n                  width: `${((currentIndex + 1) / totalImages) * 100}%`,\n                }}\n              />\n            </div>\n            <span className=\"text-md text-black\">\n              {currentIndex + 1} / {totalImages}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <img\n            src={currentImage.url}\n            alt={`Image ${currentIndex + 1}`}\n            className=\"bg-white w-full max-h-[65vh] object-contain rounded-lg shadow-md\"\n          />\n        </div>\n\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg text-black font-bold text-center\">\n            Is this image AI-generated or a real photograph?\n          </h3>\n\n          {!inlineFeedback ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <button\n                onClick={() => handleAnswer(false)}\n                className=\"bg-[#606C5D] hover:bg-[#606C5D]/80 text-white font-bold py-4 px-6 rounded-lg transition-colors\"\n              >\n                REAL!\n              </button>\n\n              <button\n                onClick={() => handleAnswer(true)}\n                className=\"bg-[#9E3B3B] hover:bg-[#9E3B3B]/80 text-white font-bold py-4 px-6 rounded-lg transition-colors\"\n              >\n                AI-GENERATED!\n              </button>\n            </div>\n          ) : (\n            <div\n              className={`p-6 rounded-lg border-2 ${\n                inlineFeedback.isCorrect\n                  ? \"bg-[#6CA651]/30 border-[#6CA651]\"\n                  : \"bg-[#9E3B3B]/30 border-[#9E3B3B]\"\n              }`}\n            >\n              <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n                <div className=\"flex items-center gap-3\">\n                  {inlineFeedback.isCorrect ? (\n                    <CheckCircle2 className=\"w-8 h-8 text-[#6CA651] flex-shrink-0\" />\n                  ) : (\n                    <XCircle className=\"w-8 h-8 text-[#9E3B3B] flex-shrink-0\" />\n                  )}\n                  <div>\n                    <p\n                      className={`text-lg ${inlineFeedback.isCorrect ? \"text-[#6CA651]\" : \"text-[#9E3B3B]\"} font-bold`}\n                    >\n                      {inlineFeedback.isCorrect ? \"Correct!\" : \"Incorrect\"}\n                    </p>\n                    <p className=\"text-sm text-gray-700\">\n                      This image is{\" \"}\n                      {inlineFeedback.correctAnswer\n                        ? \"AI-Generated\"\n                        : \"a Real Photo\"}\n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={moveToNext}\n                  className=\"bg-[#F1C376] hover:bg-[#F1C376]/70 text-[#7B542F] font-bold py-3 px-12 rounded-lg transition-colors whitespace-nowrap md:w-auto w-full\"\n                >\n                  {currentIndex < totalImages - 1 ? \"Next\" : \"View Results\"}\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Enlarged Image Modal\n      {enlargedImage && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50\"\n          onClick={() => setEnlargedImage(null)}\n        >\n          <div\n            className=\"relative bg-white rounded-lg p-4 max-w-5xl max-h-[90vh] overflow-auto\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <button\n              onClick={() => setEnlargedImage(null)}\n              className=\"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors z-10\"\n            >\n              <X className=\"w-6 h-6 text-gray-700\" />\n            </button>\n            <img\n              src={enlargedImage}\n              alt=\"Enlarged view\"\n              className=\"w-full h-auto rounded-lg\"\n            />\n          </div>\n        </div>\n      )} */}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/components/SummaryPage.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  CheckCircle2,\n  XCircle,\n  Clock,\n  TrendingUp,\n  BarChart3,\n  X,\n} from \"lucide-react\";\nimport {\n  Answer,\n  calculateOverallStats,\n  calculateModeStats,\n  getModeName,\n  formatTimeSeconds,\n} from \"@/lib/quizStatistics\";\n\ninterface ImageData {\n  id: string;\n  url: string;\n  isAIGenerated: boolean;\n}\n\ninterface SummaryPageProps {\n  answers: Answer[];\n  images: ImageData[];\n  consented: boolean;\n  mode1First: boolean;\n  onRestart: () => void;\n}\n\nexport function SummaryPage({\n  answers,\n  images,\n  consented,\n  mode1First,\n  onRestart,\n}: SummaryPageProps) {\n  const [enlargedImage, setEnlargedImage] = useState<string | null>(null);\n\n  // Calculate overall statistics\n  const { totalQuestions, correctAnswers, accuracy } =\n    calculateOverallStats(answers);\n\n  // Calculate mode-based statistics\n  const {\n    mode1Accuracy,\n    mode2Accuracy,\n    mode1AvgTime,\n    mode2AvgTime,\n    mode1TotalTime,\n    mode2TotalTime,\n  } = calculateModeStats(answers, mode1First);\n\n  // Get mode names for display\n  const firstSetMode = getModeName(mode1First, 1);\n  const secondSetMode = getModeName(mode1First, 2);\n\n  return (\n    <div className=\"min-h-screen bg-[#F7E6C4]/30 py-12 px-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* LEFT COLUMN: Summary Info */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n            <h1 className=\"text-3xl mb-2 text-black font-semibold\">\n              Quiz Complete!\n            </h1>\n            <p className=\"text-gray-600 mb-6\">\n              Thank you for participating in our game!\n            </p>\n\n            {/* Data Collection Notice */}\n            <div\n              className={`mb-8 p-4 rounded-lg border-2 ${\n                consented\n                  ? \"bg-[#6CA651]/10 border-[#6CA651]/40\"\n                  : \"bg-gray-50 border-gray-300\"\n              }`}\n            >\n              {consented ? (\n                <div className=\"flex items-start gap-3\">\n                  <p className=\"text-sm text-gray-700\">\n                    Your anonymous performance{\" \"}\n                    <strong>data has been recorded</strong>. This data will not\n                    be shared and will only be used for MIE286 project data\n                    analysis.\n                  </p>\n                </div>\n              ) : (\n                <div className=\"flex items-start gap-3\">\n                  <h3 className=\"text-base text-gray-900 mb-1\">\n                    As per your choice,{\" \"}\n                    <strong>NO data has been collected or stored.</strong>\n                  </h3>\n                </div>\n              )}\n            </div>\n\n            {/* Overall Performance */}\n            <div className=\"mb-8\">\n              <h2 className=\"text-2xl mb-4 text-gray-900 flex items-center gap-2\">\n                <BarChart3 className=\"w-6 h-6\" />\n                Your Performance\n              </h2>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n                <div className=\"bg-[#9E3B3B]/20 rounded-lg p-4\">\n                  <div className=\"text-3xl text-[#9E3B3B] mb-2 text-center\">\n                    {accuracy.toFixed(1)}%\n                  </div>\n                  <div className=\"text-md text-black text-center\">\n                    Overall Accuracy\n                  </div>\n                  <div className=\"text-md text-black mt-1 text-center\">\n                    {correctAnswers} / {totalQuestions} correct\n                  </div>\n                </div>\n\n                <div className=\"bg-[#F1C376]/20 rounded-lg p-4\">\n                  <div className=\"text-3xl text-[#F1C376] mb-2 text-center\">\n                    {formatTimeSeconds(mode1TotalTime + mode2TotalTime)}s\n                  </div>\n                  <div className=\"text-md text-black text-center\">\n                    Total Time\n                  </div>\n                </div>\n\n                <div className=\"bg-[#606C5D]/20 rounded-lg p-4\">\n                  <div className=\"text-3xl text-[#606C5D] mb-2 text-center\">\n                    {mode1First ? \"1→2\" : \"2→1\"}\n                  </div>\n                  <div className=\"text-md text-black mt-1 text-center\">\n                    {mode1First\n                      ? \"With then No feedback\"\n                      : \"No then With feedback\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Performance by Mode */}\n            <div className=\"mb-8\">\n              <h2 className=\"text-xl mb-4 text-gray-900 flex items-center gap-2\">\n                <TrendingUp className=\"w-5 h-5\" />\n                Performance by Feedback Mode\n              </h2>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                <div className=\"bg-[#F1C376]/20 rounded-lg p-4 border border-[#F1C376]\">\n                  <h3 className=\"text-lg text-black mb-2\">Images 1-10</h3>\n                  <div className=\"text-xl font-semibold mb-1\">\n                    {Math.round(mode1First ? mode1Accuracy : mode2Accuracy)}%\n                    accuracy\n                  </div>\n                  <div className=\"text-md text-[#7B542F] mb-1\">\n                    {formatTimeSeconds(\n                      mode1First ? mode1AvgTime : mode2AvgTime,\n                    )}\n                    s Avg Response Time\n                  </div>\n                  <div className=\"text-md\">{firstSetMode}</div>\n                </div>\n\n                <div className=\"bg-[#606C5D]/20 rounded-lg p-4 border border-[#606C5D]\">\n                  <h3 className=\"text-lg text-black mb-2\">Images 11-20</h3>\n                  <div className=\"text-xl font-semibold mb-1\">\n                    {Math.round(mode1First ? mode2Accuracy : mode1Accuracy)}%\n                    accuracy\n                  </div>\n                  <div className=\"text-md text-[#7B542F] mb-1\">\n                    {formatTimeSeconds(\n                      mode1First ? mode2AvgTime : mode1AvgTime,\n                    )}\n                    s Avg Response Time\n                  </div>\n                  <div className=\"text-md\">{secondSetMode}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* RIGHT COLUMN: Detailed Results */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n            <h2 className=\"text-2xl mb-2 text-gray-900\">Detailed Results</h2>\n\n            <div className=\"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 mb-6\">\n              {answers.map((answer, index) => {\n                const imageData = images.find(\n                  (img) => img.id === answer.imageId,\n                );\n                return (\n                  <div\n                    key={answer.imageId}\n                    className={`flex items-center gap-3 p-3 rounded-lg ${\n                      answer.isCorrect\n                        ? \"bg-[#6CA651]/10 border border-[#6CA651]\"\n                        : \"bg-[#9E3B3B]/10 border border-[#9E3B3B]\"\n                    }`}\n                  >\n                    {/* Image Thumbnail - Clickable */}\n                    {imageData && (\n                      <img\n                        src={imageData.url}\n                        alt={`Image ${index + 1}`}\n                        className=\"w-16 h-16 object-cover rounded-lg flex-shrink-0 cursor-pointer transition-opacity\"\n                        onClick={() => setEnlargedImage(imageData.url)}\n                      />\n                    )}\n\n                    <div className=\"flex-1 flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        {answer.isCorrect ? (\n                          <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\n                        ) : (\n                          <XCircle className=\"w-5 h-5 text-red-600\" />\n                        )}\n                        <div>\n                          <p className=\"text-sm text-gray-900\">\n                            Image #{index + 1}\n                          </p>\n                          <p className=\"text-xs text-gray-600\">\n                            {answer.correctAnswer\n                              ? \"AI-Generated\"\n                              : \"Real Photo\"}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                          <Clock className=\"w-3 h-3\" />\n                          {formatTimeSeconds(answer.responseTime)}s\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            <p>\n              Whether you choose to have your data collected or not,{\" \"}\n              <strong>please don't take another quiz attempt</strong> to ensure\n              data integrity and accuracy. We appreciate your participation and\n              contribution to our project! (You are good to close the tab)\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Enlarged Image Modal\n      {enlargedImage && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50\"\n          onClick={() => setEnlargedImage(null)}\n        >\n          <div\n            className=\"relative bg-white rounded-lg p-4 max-w-5xl max-h-[90vh] overflow-auto\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <button\n              onClick={() => setEnlargedImage(null)}\n              className=\"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors z-10\"\n            >\n              <X className=\"w-6 h-6 text-gray-700\" />\n            </button>\n            <img\n              src={enlargedImage}\n              alt=\"Enlarged view\"\n              className=\"w-full h-auto rounded-lg\"\n            />\n          </div>\n        </div>\n      )} */}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1581, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/lib/imageDataset.ts"],"sourcesContent":["// Image dataset with labels indicating whether each image is AI-generated\nexport interface ImageData {\n  id: string;\n  url: string;\n  isAIGenerated: boolean;\n}\n\nexport const imageDataset: ImageData[] = [\n  {\n    id: \"img001\",\n    url: \"https://images.unsplash.com/photo-1618886850494-c79fd48305b8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwb3J0cmFpdCUyMHBob3RvZ3JhcGh5JTIwcGVyc29ufGVufDF8fHx8MTc3MDM2MDc2N3ww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img002\",\n    url: \"https://images.unsplash.com/photo-1616386573884-22531fd226e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsYW5kc2NhcGUlMjBuYXR1cmUlMjBtb3VudGFpbnxlbnwxfHx8fDE3NzAzODQ4ODJ8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img003\",\n    url: \"https://images.unsplash.com/photo-1695067438561-75492f7b6a9c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBhcmNoaXRlY3R1cmUlMjBidWlsZGluZ3xlbnwxfHx8fDE3NzAzMjA1ODl8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img004\",\n    url: \"https://images.unsplash.com/photo-1705254613735-1abb457f8a60?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhYnN0cmFjdCUyMGFydCUyMGNvbG9yZnVsfGVufDF8fHx8MTc3MDQwNTc2Mnww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img005\",\n    url: \"https://images.unsplash.com/photo-1513563326940-e76e4641069e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaXR5JTIwc2t5bGluZSUyMG5pZ2h0fGVufDF8fHx8MTc3MDM4MDE4Mnww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img006\",\n    url: \"https://images.unsplash.com/photo-1698309627162-8ce7442ab855?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGhvdG9ncmFwaHklMjBtZWFsfGVufDF8fHx8MTc3MDM3OTAwNXww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img007\",\n    url: \"https://images.unsplash.com/photo-1651707265633-6043d4606339?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltYWwlMjB3aWxkbGlmZSUyMG5hdHVyZXxlbnwxfHx8fDE3NzAzMDA2MDF8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img008\",\n    url: \"https://images.unsplash.com/photo-1569832724830-0b4ab7b52ab2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvY2VhbiUyMGJlYWNoJTIwd2F2ZXN8ZW58MXx8fHwxNzcwMzA2MTE2fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img009\",\n    url: \"https://images.unsplash.com/photo-1692997364986-29a017d99013?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb3Jlc3QlMjB0cmVlcyUyMHN1bmxpZ2h0fGVufDF8fHx8MTc3MDM5MTkyN3ww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img010\",\n    url: \"https://images.unsplash.com/photo-1598087216773-d02ad98034f1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHJlZXQlMjBwaG90b2dyYXBoeSUyMHVyYmFufGVufDF8fHx8MTc3MDI5OTEyMnww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img011\",\n    url: \"https://images.unsplash.com/photo-1588587614134-16dd30800244?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmbG93ZXIlMjBtYWNybyUyMGNsb3NldXB8ZW58MXx8fHwxNzcwNDA1NzY0fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img012\",\n    url: \"https://images.unsplash.com/photo-1718258759235-82402337d478?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHx2aW50YWdlJTIwY2FyJTIwYXV0b21vYmlsZXxlbnwxfHx8fDE3NzAzOTg2MzN8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img013\",\n    url: \"https://images.unsplash.com/photo-1669024513552-56127b2d0d85?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHxkZXNlcnQlMjBzYW5kJTIwZHVuZXN8ZW58MXx8fHwxNzcwMjg2OTE4fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img014\",\n    url: \"https://images.unsplash.com/photo-1719961152775-99b8a57b09f2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHxjb2ZmZWUlMjBtb3JuaW5nJTIwYnJlYWtmYXN0fGVufDF8fHx8MTc3MDM1Njk3NHww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img015\",\n    url: \"https://images.unsplash.com/photo-1623679072629-3aaa0192a391?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHx3b3Jrc3BhY2UlMjBkZXNrJTIwb2ZmaWNlfGVufDF8fHx8MTc3MDMwNDk5OHww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img016\",\n    url: \"https://images.unsplash.com/photo-1661362758906-3a85700516c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHxzdW5zZXQlMjBza3klMjBjbG91ZHN8ZW58MXx8fHwxNzcwMzY3OTQ3fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img017\",\n    url: \"https://images.unsplash.com/photo-1606388701602-2e3727da5b28?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHx3aW50ZXIlMjBzbm93JTIwbGFuZHNjYXBlfGVufDF8fHx8MTc3MDMyMTAzMnww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img018\",\n    url: \"https://images.unsplash.com/photo-1642316655095-6349aa377ce5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHx0ZWNobm9sb2d5JTIwY29tcHV0ZXIlMjBkaWdpdGFsfGVufDF8fHx8MTc3MDQwNTc2N3ww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  },\n  {\n    id: \"img019\",\n    url: \"https://images.unsplash.com/photo-1696245843980-79b69e076ffa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtdXNpYyUyMGluc3RydW1lbnRzJTIwZ3VpdGFyfGVufDF8fHx8MTc3MDQwNTc2N3ww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: false\n  },\n  {\n    id: \"img020\",\n    url: \"https://images.unsplash.com/photo-1704048001164-9e454dd611e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnYXJkZW4lMjBwbGFudHMlMjBmbG93ZXJzfGVufDF8fHx8MTc3MDMwOTUwNnww&ixlib=rb-4.1.0&q=80&w=1080\",\n    isAIGenerated: true\n  }\n];\n\n// Function to get a random selection of images\nexport function getRandomImages(count: number): ImageData[] {\n  const shuffled = [...imageDataset].sort(() => Math.random() - 0.5);\n  return shuffled.slice(0, count);\n}\n"],"names":[],"mappings":"AAAA,0EAA0E;;;;;;;AAOnE,MAAM,eAA4B;IACvC;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;IACA;QACE,IAAI;QACJ,KAAK;QACL,eAAe;IACjB;CACD;AAGM,SAAS,gBAAgB,KAAa;IAC3C,MAAM,WAAW;WAAI;KAAa,CAAC,IAAI,CAAC,IAAM,KAAK,MAAM,KAAK;IAC9D,OAAO,SAAS,KAAK,CAAC,GAAG;AAC3B"}},
    {"offset": {"line": 1790, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp, getApps, type FirebaseApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getFirestore, type Firestore } from \"firebase/firestore\";\nimport { getAuth, type Auth } from \"firebase/auth\";\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n\n// Validate Firebase configuration\nfunction validateFirebaseConfig() {\n  const requiredFields = ['apiKey', 'authDomain', 'projectId', 'storageBucket', 'messagingSenderId', 'appId'];\n  const missingFields = requiredFields.filter(field => !firebaseConfig[field as keyof typeof firebaseConfig]);\n  \n  if (missingFields.length > 0) {\n    console.error('Missing Firebase configuration:', missingFields);\n    console.error('Please check your .env.local file has all NEXT_PUBLIC_FIREBASE_* variables');\n    return false;\n  }\n  return true;\n}\n\n// Initialize Firebase only on client side\nlet app: FirebaseApp | undefined;\nlet db: Firestore | undefined;\nlet auth: Auth | undefined;\n\nif (typeof window !== 'undefined') {\n  // Validate config before initializing\n  if (validateFirebaseConfig()) {\n    // Check if Firebase app is already initialized\n    if (!getApps().length) {\n      app = initializeApp(firebaseConfig);\n    } else {\n      app = getApps()[0];\n    }\n    \n    // Initialize analytics\n    getAnalytics(app);\n    \n    // Initialize services\n    db = getFirestore(app);\n    auth = getAuth(app);\n  }\n}\n\nexport { app, db, auth };"],"names":[],"mappings":";;;;;;;;AAAA,uDAAuD;AACvD;AACA;AACA;AACA;;;;;AAEA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,mEAAmE;AACnE,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,kCAAkC;AAClC,SAAS;IACP,MAAM,iBAAiB;QAAC;QAAU;QAAc;QAAa;QAAiB;QAAqB;KAAQ;IAC3G,MAAM,gBAAgB,eAAe,MAAM,CAAC,CAAA,QAAS,CAAC,cAAc,CAAC,MAAqC;IAE1G,IAAI,cAAc,MAAM,GAAG,GAAG;QAC5B,QAAQ,KAAK,CAAC,mCAAmC;QACjD,QAAQ,KAAK,CAAC;QACd,OAAO;IACT;IACA,OAAO;AACT;AAEA,0CAA0C;AAC1C,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ"}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/lib/quizSave.ts"],"sourcesContent":["import {db} from \"./firebase\";\nimport {collection, addDoc, Timestamp} from \"firebase/firestore\";\n\ninterface DetailedAnswer {\n  imageId: string;\n  userAnswer: string; // \"Fake\" or \"Real\"\n  correctAnswer: string; // \"Fake\" or \"Real\"\n  isCorrect: number;\n  responseTime: number; \n  mode: boolean; // true = with feedback, false = without feedback\n}\n\ninterface QuizData {\n    userId: string;\n    answers: DetailedAnswer[];\n    Accuracy: number; // percentage of correct answers\n    WFAccuracy: number; // with feedback accuracy \n    WOFAccuracy: number; // without feedback accuracy\n    totalTP: number; // true positives (correctly identified AI-generated images)\n    totalTN: number; // true negatives (correctly identified human-generated images)\n    WF_TP: number; // true positives in with feedback mode\n    WF_TN: number; // true negatives in with feedback mode\n    WOF_TP: number; // true positives in without feedback mode\n    WOF_TN: number; // true negatives in without feedback mode\n    WFResponseTime: number; // total response time in with feedback mode\n    WOFResponseTime: number; // total response time in without feedback mode\n    noFeedbackFirst: boolean; // whether mode 1 was first\n    timestamp: Timestamp; // when the quiz was completed\n}\n\nexport const saveQuizDataToFirebase = async (\n    userId: string, \n    answers: DetailedAnswer[], \n    noFeedbackFirst: boolean) => {\n        try {\n            if (!db) {\n                throw new Error(\"Firebase not initialized\");\n            }\n            \n            const Accuracy = answers.filter((a) => a.isCorrect).length / 20;\n            const WFAccuracy = answers.filter((a) => a.mode && a.isCorrect).length / 10;\n            const WOFAccuracy = answers.filter((a) => !a.mode && a.isCorrect).length / 10;\n            const totalTP = answers.filter((a) => a.isCorrect && a.correctAnswer === \"Fake\").length;\n            const totalTN = answers.filter((a) => a.isCorrect && a.correctAnswer === \"Real\").length;\n            const WF_TP = answers.filter((a) => a.mode && a.isCorrect && a.correctAnswer === \"Fake\").length;\n            const WF_TN = answers.filter((a) => a.mode && a.isCorrect && a.correctAnswer === \"Real\").length;\n            const WOF_TP = answers.filter((a) => !a.mode && a.isCorrect && a.correctAnswer === \"Fake\").length;\n            const WOF_TN = answers.filter((a) => !a.mode && a.isCorrect && a.correctAnswer === \"Real\").length;\n            const WFResponseTime = answers.filter((a) => a.mode).reduce((sum, a) => sum + a.responseTime, 0);\n            const WOFResponseTime = answers.filter((a) => !a.mode).reduce((sum, a) => sum + a.responseTime, 0);\n\n        const quizData: QuizData = {\n            userId,\n            answers,\n            Accuracy: parseFloat((Accuracy * 100).toFixed(5)), // convert to percentage with 5 decimal places\n            WFAccuracy: parseFloat((WFAccuracy * 100).toFixed(5)),\n            WOFAccuracy: parseFloat((WOFAccuracy * 100).toFixed(5)),\n            totalTP,\n            totalTN,\n            WF_TP,\n            WF_TN,\n            WOF_TP,\n            WOF_TN,\n            WFResponseTime: parseFloat(WFResponseTime.toFixed(5)), \n            WOFResponseTime: parseFloat(WOFResponseTime.toFixed(5)), \n            noFeedbackFirst,\n            timestamp: Timestamp.now(),\n        };\n        \n        const docRef = await addDoc(collection(db, \"quiz_results\"), quizData);\n        console.log(\"Quiz data saved successfully: \", docRef.id);\n    } catch (error) {\n        console.error(\"Error saving quiz data: \", error);\n        throw error;\n    }\n};\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AA6BO,MAAM,yBAAyB,OAClC,QACA,SACA;IACI,IAAI;QACA,IAAI,CAAC,2JAAE,EAAE;YACL,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,WAAW,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,EAAE,MAAM,GAAG;QAC7D,MAAM,aAAa,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,GAAG;QACzE,MAAM,cAAc,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,GAAG;QAC3E,MAAM,UAAU,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QACvF,MAAM,UAAU,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QACvF,MAAM,QAAQ,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QAC/F,MAAM,QAAQ,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,IAAI,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QAC/F,MAAM,SAAS,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,IAAI,IAAI,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QACjG,MAAM,SAAS,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,IAAI,IAAI,EAAE,SAAS,IAAI,EAAE,aAAa,KAAK,QAAQ,MAAM;QACjG,MAAM,iBAAiB,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAAE;QAC9F,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,YAAY,EAAE;QAEpG,MAAM,WAAqB;YACvB;YACA;YACA,UAAU,WAAW,CAAC,WAAW,GAAG,EAAE,OAAO,CAAC;YAC9C,YAAY,WAAW,CAAC,aAAa,GAAG,EAAE,OAAO,CAAC;YAClD,aAAa,WAAW,CAAC,cAAc,GAAG,EAAE,OAAO,CAAC;YACpD;YACA;YACA;YACA;YACA;YACA;YACA,gBAAgB,WAAW,eAAe,OAAO,CAAC;YAClD,iBAAiB,WAAW,gBAAgB,OAAO,CAAC;YACpD;YACA,WAAW,oNAAS,CAAC,GAAG;QAC5B;QAEA,MAAM,SAAS,MAAM,IAAA,iNAAM,EAAC,IAAA,qNAAU,EAAC,2JAAE,EAAE,iBAAiB;QAC5D,QAAQ,GAAG,CAAC,kCAAkC,OAAO,EAAE;IAC3D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACV;AACJ"}},
    {"offset": {"line": 1902, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanessahuo/Documents/GitHub/mie_project/components/App.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { StartPage } from \"./StartPage\";\nimport { InstructionPage } from \"./InstructionPage\";\nimport { ImageEvaluationPage } from \"./ImageEvaluationPage\";\nimport { SummaryPage } from \"./SummaryPage\";\nimport { getRandomImages, ImageData } from \"@/lib/imageDataset\";\nimport { auth } from \"@/lib/firebase\";\nimport { signInAnonymously } from \"firebase/auth\";\nimport { saveQuizDataToFirebase } from \"@/lib/quizSave\";\nimport { Answer } from \"@/lib/quizStatistics\";\n\ntype Phase = \"start\" | \"instruction\" | \"evaluation\" | \"summary\";\n\nexport default function App() {\n  const [phase, setPhase] = useState<Phase>(\"start\");\n  const [consented, setConsented] = useState<boolean>(false);\n  const [selectedImages, setSelectedImages] = useState<ImageData[]>([]);\n  const [mode1First, setMode1First] = useState<boolean>(false);\n  const [answers, setAnswers] = useState<Answer[]>([]);\n  const [userId, setUserId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const init = async () => {\n      if (!auth) return;\n      await signInAnonymously(auth);\n      if (auth.currentUser) {\n        setUserId(auth.currentUser.uid);\n      }\n    };\n    init();\n  }, []);\n\n  const handleStart = (consentGiven: boolean) => {\n    setConsented(consentGiven);\n    setPhase(\"instruction\");\n  };\n\n  const handleBeginQuiz = () => {\n    // Select 20 random images\n    const images = getRandomImages(20);\n    setSelectedImages(images);\n\n    // Randomly determine mode order\n    const randomMode = Math.random() < 0.5;\n    setMode1First(randomMode);\n\n    // Move to evaluation phase\n    setPhase(\"evaluation\");\n  };\n\n  const handleEvaluationComplete = async (completedAnswers: Answer[]) => {\n    setAnswers(completedAnswers);\n\n    // Save data to Firebase if user consented\n    if (consented && userId) {\n      try {\n        const detailedAnswers = completedAnswers.map((a) => ({\n          imageId: a.imageId,\n          userAnswer: a.userAnswer ? \"Fake\" : \"Real\",\n          correctAnswer: a.correctAnswer ? \"Fake\" : \"Real\",\n          isCorrect: a.isCorrect ? 1 : 0,\n          responseTime: a.responseTime / 1000, // convert to seconds\n          mode: a.mode, // true = with feedback, false = without feedback\n        }));\n\n        await saveQuizDataToFirebase(userId, detailedAnswers, !mode1First);\n        console.log(\"Quiz data successfully saved to Firebase\");\n      } catch (error) {\n        console.error(\"Failed to save quiz data:\", error);\n      }\n    }\n\n    setPhase(\"summary\");\n  };\n\n  const handleRestart = () => {\n    setPhase(\"start\");\n    setConsented(false);\n    setSelectedImages([]);\n    setMode1First(false);\n    setAnswers([]);\n  };\n\n  return (\n    <>\n      {phase === \"start\" && <StartPage onStart={handleStart} />}\n\n      {phase === \"instruction\" && <InstructionPage onBegin={handleBeginQuiz} />}\n\n      {phase === \"evaluation\" && (\n        <ImageEvaluationPage\n          images={selectedImages}\n          mode1First={mode1First}\n          onComplete={handleEvaluationComplete}\n        />\n      )}\n\n      {phase === \"summary\" && (\n        <SummaryPage\n          answers={answers}\n          images={selectedImages}\n          consented={consented}\n          mode1First={mode1First}\n          onRestart={handleRestart}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAVA;;;;;;;;;;;AAee,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,uPAAQ,EAAQ;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,uPAAQ,EAAU;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,uPAAQ,EAAc,EAAE;IACpE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,uPAAQ,EAAU;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uPAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uPAAQ,EAAgB;IAEpD,IAAA,wPAAS,EAAC;QACR,MAAM,OAAO;YACX,IAAI,CAAC,6JAAI,EAAE;YACX,MAAM,IAAA,6NAAiB,EAAC,6JAAI;YAC5B,IAAI,6JAAI,CAAC,WAAW,EAAE;gBACpB,UAAU,6JAAI,CAAC,WAAW,CAAC,GAAG;YAChC;QACF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,aAAa;QACb,SAAS;IACX;IAEA,MAAM,kBAAkB;QACtB,0BAA0B;QAC1B,MAAM,SAAS,IAAA,4KAAe,EAAC;QAC/B,kBAAkB;QAElB,gCAAgC;QAChC,MAAM,aAAa,KAAK,MAAM,KAAK;QACnC,cAAc;QAEd,2BAA2B;QAC3B,SAAS;IACX;IAEA,MAAM,2BAA2B,OAAO;QACtC,WAAW;QAEX,0CAA0C;QAC1C,IAAI,aAAa,QAAQ;YACvB,IAAI;gBACF,MAAM,kBAAkB,iBAAiB,GAAG,CAAC,CAAC,IAAM,CAAC;wBACnD,SAAS,EAAE,OAAO;wBAClB,YAAY,EAAE,UAAU,GAAG,SAAS;wBACpC,eAAe,EAAE,aAAa,GAAG,SAAS;wBAC1C,WAAW,EAAE,SAAS,GAAG,IAAI;wBAC7B,cAAc,EAAE,YAAY,GAAG;wBAC/B,MAAM,EAAE,IAAI;oBACd,CAAC;gBAED,MAAM,IAAA,+KAAsB,EAAC,QAAQ,iBAAiB,CAAC;gBACvD,QAAQ,GAAG,CAAC;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C;QACF;QAEA,SAAS;IACX;IAEA,MAAM,gBAAgB;QACpB,SAAS;QACT,aAAa;QACb,kBAAkB,EAAE;QACpB,cAAc;QACd,WAAW,EAAE;IACf;IAEA,qBACE;;YACG,UAAU,yBAAW,oRAAC,2KAAS;gBAAC,SAAS;;;;;;YAEzC,UAAU,+BAAiB,oRAAC,uLAAe;gBAAC,SAAS;;;;;;YAErD,UAAU,8BACT,oRAAC,+LAAmB;gBAClB,QAAQ;gBACR,YAAY;gBACZ,YAAY;;;;;;YAIf,UAAU,2BACT,oRAAC,+KAAW;gBACV,SAAS;gBACT,QAAQ;gBACR,WAAW;gBACX,YAAY;gBACZ,WAAW;;;;;;;;AAKrB"}}]
}